<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Add-Ons</title>
  <meta name="description" content="">
  <meta name="keywords" content="">
  
  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect">
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

  <!-- Main CSS File -->
  <link href="assets/css/main.css" rel="stylesheet">
  <link href="assets/css/table_style.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs/build/css/alertify.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/alertifyjs/build/css/themes/default.min.css">

  <!-- =======================================================
  * Template Name: Selecao
  * Template URL: https://bootstrapmade.com/selecao-bootstrap-template/
  * Updated: Aug 07 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body class="blog-page">

  <header id="header" class="header d-flex align-items-center fixed-top">
    <div class="container-fluid container-xl position-relative d-flex align-items-center justify-content-between">

      <a href="index.html" class="logo d-flex align-items-center">
        <!-- Uncomment the line below if you also wish to use an image logo -->
        <!-- <img src="assets/img/logo.png" alt=""> -->
        <h1 class="sitename">Extreme Padel Zambia</h1>
      </a>

      <nav id="navmenu" class="navmenu">
        <ul>
          
          
        
        </ul>
        <i class="mobile-nav-toggle d-xl-none bi bi-list" style="display:none"></i>
      </nav>

    </div>
  </header>

  <main class="main" id="bookingSummay-main">

    <!-- Page Title -->
    <div class="page-title dark-background booking-heading">
      <div class="container position-relative">
        <h1>Do you want to enjoy some extras ..</h1>
        
        <nav class="breadcrumbs">
          <ol>
            <div class="button-container">
              <button class="proceed-button" id="btn-go-home"onclick="goTohome()"><< Back</button>
          </div>
          <div class="button-container">
            <button class="proceed-button" id="btn-display-booking"onclick="showHideBookingSummary('s')">Next >></button>
        </div>

        <div class="button-container">
          <button class="proceed-button" id="btn-hide-summary" onclick="showHideBookingSummary('h')" style="display:none"><< Back</button>
      </div>
      <div class="button-container">
        <button class="proceed-button" id="btn-booking-confirm" onclick="confirmBooking()" style="display:none">Confirm >></button>
    </div>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <!-- Blog Posts Section -->
    <section id="blog-posts" class="blog-posts section">

      <div class="container">
        <div class="row gy-4">

          <div class="col-lg-4">
            <article>

              <div class="post-img">
                <img src="assets/img/rent_racket.jpeg" alt="" class="img-fluid">
              </div>
              <div class="quantity-container">
                <label for="quantity" class="quantity-label">Select Quantity:</label>
                <select id="quantity" class="quantity-dropdown"onChange="updateRacketQty()">
                    <option value="0" selected>0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>
            <div class="result-container">
                <span>Total: </span>
                <span id="total-price">0</span>
            </div>

            </article>
          </div><!-- End post list item -->

          <div class="col-lg-4">
            <article>

              <div class="post-img">
                <img src="assets/img/rent_ball.jpg" alt="" class="img-fluid">
              </div>

              <div class="quantity-container">
                <label for="ball-quantity" class="quantity-label">Select Quantity:</label>
                <select id="ball-quantity" class="quantity-dropdown"onChange="updateBalltQty()">
                    <option value="0" selected>0</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
            </div>
            <div class="result-container">
                <span>Total: </span>
                <span id="ball-total-price">0</span>
            </div>

            </article>
          </div><!-- End post list item -->

    
        </div>
      </div>

    </section><!-- /Blog Posts Section -->

  <!-- Section Booking Summary -->
  <section id="booking-Summary" class="booking-Summary">
    
  <div class="bookingSummaryContainer" id ="bookingSummaryContainer"style="display: none;">

            <div class="col-lg-8 booking-request-parent" id="user-details-parent">
                    <form class="php-email-form" id="user-details-form">
                        <div class="row gy-4">

                            <div class="col-md-12">
                              <label for="name">Your Name</label>
                              <input type="text" name="user_name" id="user_name" class="form-control" maxlength="50" required>
                            </div>

                            <div class="col-md-12">
                              <label for="email">Email</label>
                              <input type="email" name="user_email" id="user_email" class="form-control" maxlength="50"required>
                            </div>

                            <div class="col-md-12">
                              <label for="mobile">Mobile No</label>
                              <input type="text" name="user_mobile" id="user_mobile" class="form-control" maxlength="10"required>
                            </div>

                            <div class="col-md-12">
                              <label for="teamMembers">Team Members Name</label>
                              <textarea name="user_teamMembers" id="user_teamMembers" class="form-control" maxlength="500" required></textarea>
                            </div>

                            <div class="col-md-12">
                              <label for="user_bookingContinue"></label>
                              <input type="checkbox" id="user_bookingContinue" checked> Keep My Booking going
                            </div>

                        </div>
                    </form>
            </div> <!-- End user details Form -->

            <div class="bookingSummaryTable" id ="bookingSummaryTable">
              
            </div>
  </div>
  </section><!--End Section Booking summary -->


  </main>

  <footer id="footer" class="footer dark-background">
    <div class="container">
      <h3 class="sitename">Xtreme Padel Zambia</h3>
      <p>Where Every Game is World-Class!</p>
      <div class="social-links d-flex justify-content-center">
        <a href=""><i class="bi bi-twitter-x"></i></a>
        <a href=""><i class="bi bi-facebook"></i></a>
        <a href=""><i class="bi bi-instagram"></i></a>
        <a href=""><i class="bi bi-skype"></i></a>
        <a href=""><i class="bi bi-linkedin"></i></a>
      </div>
      <div class="container">
        <div class="copyright">
          <span>Copyright</span> <strong class="px-1 sitename">LitelinkERP</strong> <span>All Rights Reserved</span>
        </div>
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you've purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: [buy-url] -->
          Designed by <a href="https://litelinkerp.com/">Rigvedam Innovations</a>
        </div>
      </div>
    </div>
  </footer>

  <!-- Scroll Top -->
  <a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Preloader -->
  <div id="preloader"></div>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <!--script src="assets/vendor/php-email-form/validate.js"></script-->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/imagesloaded/imagesloaded.pkgd.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

  <!-- Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/alertifyjs/build/alertify.min.js"></script>
  <script>
    const selectedBookings = JSON.parse(localStorage.getItem('selectedBookings'));

// Check if the data exists and display it
if (selectedBookings) {
    console.log('Selected Bookings:', selectedBookings);
} else {
    console.log('No bookings found.');
}


        function goTohome() {
            window.location.href = 'index.html';
        }
  
  //===================================================
 // Display Booking Summary for user confirmation 
 //====================================================
 
 function getFormattedDate(date) {
    const days = [
        "Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"
    ];
    
    const d = new Date(date);
    const dayName = days[d.getDay()];
    const dateNum = d.getDate();
    const monthName = d.toLocaleString('default', { month: 'long' });

    const suffix = getDaySuffix(dateNum);
    return `${dayName}-${dateNum}${suffix} ${monthName}`;
}

function getDaySuffix(n) {
    if (n >= 11 && n <= 13) return 'th';
    switch (n % 10) {
        case 1: return 'st';
        case 2: return 'nd';
        case 3: return 'rd';
        default: return 'th';
    }
}

function formatTime(bookingTime) {
   
    let timeStr ;
   
      timeStr = bookingTime+ ' Hrs'
  
    return timeStr;
}

//=====================================
//
//=========================================
  function showHideBookingSummary(p_action) {

    const  extraSection              = document.getElementById('blog-posts'); 
    const  bookingSummaryContainer   = document.getElementById('bookingSummaryContainer');

    const  btnHideSummary   = document.getElementById('btn-hide-summary'); 
    const  btnBookinConfirm = document.getElementById('btn-booking-confirm');

    const  btnDisplayBooking   = document.getElementById('btn-display-booking'); 
    const  btnGoHome           = document.getElementById('btn-go-home');

    if (p_action == 's')
    {
      bookingSummaryContainer.style.display = 'inline-grid';
      extraSection.style.display = 'none';

      btnHideSummary.style.display = 'flex';
      btnBookinConfirm.style.display = 'flex';

      btnDisplayBooking.style.display = 'none';
      btnGoHome.style.display = 'none';
    }
    else{
      bookingSummaryContainer.style.display = 'none';
      extraSection.style.display = 'flex';

      btnHideSummary.style.display = 'none';
      btnBookinConfirm.style.display = 'none';

      btnDisplayBooking.style.display = 'flex';
      btnGoHome.style.display = 'flex';
    }

    

    // Clear the container before rendering to avoid duplicates
    const existingtable = bookingSummaryTable.querySelector('table');
    if (existingtable) {
      existingtable.remove();
    }
      

    // Parse localStorage data
    const data = JSON.parse(localStorage.getItem('selectedBookings')) || {};
    
    // Create a table element
    const table = document.createElement('table');
    table.setAttribute('border', '0');
    table.style.borderCollapse = 'collapse';
    table.style.width = '100%';
    table.style.margin = '10px';

    // Create table header
    const thead = document.createElement('thead');
    thead.innerHTML = `
        <tr>
            <th style="padding: 8px;">Booking Date</th>
            <th style="padding: 8px;">Booking Time</th>
            <th style="padding: 8px;">Court No</th>
        </tr>
    `;
    table.appendChild(thead);

    // Create table body
    const tbody = document.createElement('tbody');
    Object.keys(data).forEach(key => {
        const booking = data[key];
        
        const tr = document.createElement('tr');
        tr.innerHTML = `
    <td style="padding: 8px;">${getFormattedDate(booking.bookingDate)}</td>
    <td style="padding: 8px;">${formatTime(booking.bookingTime)}</td>
    <td style="padding: 8px;">${booking.courtNo}</td>
`;
        tbody.appendChild(tr);
    });

    table.appendChild(tbody);

    // Append table to the container div
    bookingSummaryTable.appendChild(table);

  //======================================
  //Create second tabl for equipment
  //======================================
  // Read only the first row
    const firstRow = data[0];
    const rentedBallSet = firstRow.rentedBallSet;
    const rentedPadelRacket = firstRow.rentedPadelRacket;

    // Dynamically create the table
    const tableContainer = document.getElementById('tableContainer');
    const equipmentTable = document.createElement('table');
    equipmentTable.setAttribute('border', '0');
    equipmentTable.style.borderCollapse = 'collapse';
    equipmentTable.style.width = '100%';
    equipmentTable.style.margin = '10px';
    equipmentTable.innerHTML = `
      <thead>
        <tr>
          <th>Ball Sets</th>
          <th>Padel Rackets</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>${rentedBallSet}</td>
          <td>${rentedPadelRacket}</td>
        </tr>
      </tbody>
    `;

    bookingSummaryTable.appendChild(equipmentTable);
}

//=====================================
// End showHideBookingSummary
//=========================================


  </script>

</body>

</html>